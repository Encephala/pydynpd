from cymem.cymem cimport Pool
#https://gist.github.com/thomwolf/c714cda61e67e6723b5e3b5d3b5f0d70

cdef struct regular_variable:
    char* name
    int lag

cdef struct gmm_var:
    char* name
    int lag
    int min_lag
    int max_lag

def  new_variable(char* name, int lag):
    cdef:
        Pool mem = Pool()
        regular_variable* new_var = <regular_variable*> mem.alloc(1, sizeof(regular_variable))

    new_var.name=name
    new_var.lag=lag

    return(new_var)

def  new_gmm_variable(char* name, int lag, int min_lag, int max_lag):
    cdef:
        Pool mem=Pool()
        gmm_var* new_var = <gmm_var*> mem.alloc(1, sizeof(gmm_var))

    new_var.name=name
    new_var.lag=lag
    new_var.min_lag=min_lag
    new_var.max_lag=max_lag

    return(new_var)





#
#
# class gmm_var(variable):
#     def __init__(self, name, min_lag, max_lag, lag):
#         super().__init__(name, lag)
#         self.min_lag=min_lag
#         self.max_lag=max_lag
#
# class indep_var(rhs_var):
#     pass
#
# class iv_var (rhs_var):
#     pass